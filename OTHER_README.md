# é˜¿é‡Œäº‘å®æ—¶è¯­éŸ³è¯†åˆ« (ASR) åº”ç”¨ (Tauri + Rust + Vue)

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Tauri æ¡†æ¶æ„å»ºçš„è·¨å¹³å°æ¡Œé¢å’Œ Android åº”ç”¨ï¼Œé›†æˆäº†é˜¿é‡Œäº‘ Gummy å®æ—¶è¯­éŸ³è¯†åˆ«æœåŠ¡ï¼Œæä¾›ä»éº¦å…‹é£æ•è·éŸ³é¢‘ã€å®æ—¶å‘é€è‡³äº‘ç«¯ã€æ¥æ”¶å¹¶å±•ç¤ºè¯†åˆ«å’Œç¿»è¯‘ï¼ˆå¯é€‰ï¼‰ç»“æœçš„åŠŸèƒ½ã€‚

## ğŸ¯ ä¸»è¦åŠŸèƒ½

- **å®æ—¶è¯­éŸ³è¯†åˆ«**: é€šè¿‡ WebSocket è¿æ¥é˜¿é‡Œäº‘ Gummy ASR æœåŠ¡ï¼Œå®æ—¶å¤„ç†éŸ³é¢‘æµã€‚
- **ç»“æœå±•ç¤º**: åœ¨ç•Œé¢ä¸Šå®æ—¶å±•ç¤ºè¯†åˆ«å‡ºçš„æ–‡æœ¬ç»“æœã€‚
- **å¯é€‰ç¿»è¯‘**: æ”¯æŒé…ç½®æ˜¯å¦å¯ç”¨å®æ—¶ç¿»è¯‘åŠŸèƒ½ï¼ˆç›®å‰ç¤ºä¾‹ç›®æ ‡è¯­è¨€ä¸ºè‹±è¯­ï¼‰ã€‚
- **éŸ³é¢‘å¯è§†åŒ–**: æä¾›ç®€å•çš„éŸ³é¢‘æ³¢å½¢å¯è§†åŒ–æ•ˆæœã€‚
- **çŠ¶æ€åé¦ˆ**: æ¸…æ™°å±•ç¤ºåº”ç”¨çš„è¿æ¥çŠ¶æ€ã€ä»»åŠ¡çŠ¶æ€å’Œé”™è¯¯ä¿¡æ¯ã€‚
- **è·¨å¹³å°**: åŸºäº Tauriï¼Œå¯æ‰“åŒ…ä¸º Windows, macOS, Linux æ¡Œé¢åº”ç”¨åŠ Android åº”ç”¨ã€‚

## ğŸ“± è®¾å¤‡å…¼å®¹

- **æ¡Œé¢ç«¯ (PC/Mac/Linux)**: æä¾›å®Œæ•´çš„æ¡Œé¢åº”ç”¨ä½“éªŒã€‚
- **æ‰‹æœºç«¯ (Android)**: ä¼˜åŒ–é€‚é… Android è®¾å¤‡ï¼Œåˆ©ç”¨åŸç”Ÿæƒé™è¿›è¡Œéº¦å…‹é£è®¿é—®ã€‚

## ğŸ› ï¸ æŠ€æœ¯å®ç°

- **æ ¸å¿ƒæ¡†æ¶**: [Tauri](https://tauri.app/) (v2) - ä½¿ç”¨ Web æŠ€æœ¯æ„å»ºè·¨å¹³å°åº”ç”¨çš„æ¡†æ¶ã€‚
- **å‰ç«¯**: ä½¿ç”¨ Vue.js (æˆ–æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹) å’ŒåŸç”Ÿ JavaScript/CSS æ„å»ºç”¨æˆ·ç•Œé¢ã€‚
- **åç«¯ (Tauri Core)**: ä½¿ç”¨ Rust è¯­è¨€ç¼–å†™ï¼Œéµå¾ªæ¨¡å—åŒ–è®¾è®¡ï¼š
    - `src/lib.rs`: ä½œä¸ºåº“çš„æ ¹ï¼Œè´Ÿè´£è®¾ç½® Tauri åº”ç”¨ã€ç®¡ç†çŠ¶æ€ã€æ³¨å†Œå‘½ä»¤å’Œå£°æ˜å­æ¨¡å—ã€‚
    - `src/main.rs`: æœ€å°åŒ–çš„äºŒè¿›åˆ¶å…¥å£ç‚¹ï¼Œè°ƒç”¨ `lib.rs` ä¸­çš„å¯åŠ¨å‡½æ•°ã€‚
    - `src/asr.rs`: å°è£…æ‰€æœ‰ä¸é˜¿é‡Œäº‘ ASR WebSocket é€šä¿¡ç›¸å…³çš„é€»è¾‘ï¼ŒåŒ…æ‹¬çŠ¶æ€å®šä¹‰ã€å‘½ä»¤å¤„ç†ã€å¼‚æ­¥ä»»åŠ¡ç­‰ã€‚
    - `src/llm_processor.rs`: å°è£…è°ƒç”¨å¤–éƒ¨å¤§æ¨¡å‹ API çš„é€»è¾‘ (å‚è€ƒé˜¿é‡Œäº‘æµå¼è¾“å‡ºæ–‡æ¡£ï¼š[https://help.aliyun.com/zh/model-studio/stream#493a8f482cfjs](https://help.aliyun.com/zh/model-studio/stream#493a8f482cfjs))ã€‚
    - ä¸å‰ç«¯é€šè¿‡ Tauri å‘½ä»¤ (IPC) è¿›è¡Œäº¤äº’ã€‚
    - çŠ¶æ€ç®¡ç†å’Œäº‹ä»¶é€šçŸ¥ã€‚
- **å®æ—¶è¯­éŸ³è¯†åˆ«æœåŠ¡**: [é˜¿é‡Œäº‘ Gummy API](https://dashscope.console.aliyun.com/) (é€šè¿‡ WebSocket)ã€‚
- **å¤–éƒ¨ API è°ƒç”¨**: ä½¿ç”¨ `reqwest` åº“è°ƒç”¨å¤–éƒ¨å¤§æ¨¡å‹ HTTP APIã€‚
- **å¼‚æ­¥å¤„ç†**: å¤§é‡ä½¿ç”¨ Rust çš„ `tokio` è¿è¡Œæ—¶è¿›è¡Œå¼‚æ­¥ä»»åŠ¡å¤„ç†ï¼ˆWebSocket é€šä¿¡ã€HTTP è¯·æ±‚ã€å‘½ä»¤å¤„ç†ï¼‰ã€‚
- **çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ `tokio::sync::Mutex` å’Œ Tauri çš„çŠ¶æ€ç®¡ç†æœºåˆ¶åœ¨ Rust ç«¯å…±äº«æ•°æ®ï¼ˆå¦‚ API Keyã€ä»»åŠ¡å¥æŸ„ï¼‰ã€‚
- **ä¾èµ–ç®¡ç†**: ä½¿ç”¨ `npm` (å‰ç«¯) å’Œ `cargo` (Rust åç«¯)ã€‚
- **æ„å»ºå·¥å…·**: ä½¿ç”¨ [Vite](https://vitejs.dev/) è¿›è¡Œå‰ç«¯å¼€å‘å’Œæ„å»ºã€‚

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
asr_android/                 # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ dist/                    # å‰ç«¯èµ„æºç›®å½• (HTML, CSS, JS - Tauri frontendDist)
â”‚   â””â”€â”€ ...                  # å‰ç«¯æ„å»ºäº§ç‰©
â”œâ”€â”€ src-tauri/               # Tauri åç«¯å’Œé…ç½®ç›®å½•
â”‚   â”œâ”€â”€ src/                 # Rust æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ main.rs          # æœ€å°åŒ–çš„äºŒè¿›åˆ¶å…¥å£ç‚¹ (è°ƒç”¨ lib.rs)
â”‚   â”‚   â”œâ”€â”€ lib.rs           # åº“å…¥å£ï¼Œè®¾ç½® Tauri Builder, å£°æ˜æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ asr.rs           # ASR åŠŸèƒ½æ¨¡å— (çŠ¶æ€, å‘½ä»¤, WebSocket é€»è¾‘)
â”‚   â”‚   â””â”€â”€ llm_processor.rs # LLM API è°ƒç”¨æ¨¡å—
â”‚   â”œâ”€â”€ Cargo.toml         # Rust ä¾èµ– (crates) é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ tauri.conf.json    # Tauri æ ¸å¿ƒé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ build.rs           # (å¯é€‰) Tauri æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ icons/               # åº”ç”¨å›¾æ ‡
â”‚   â””â”€â”€ gen/                 # Tauri è‡ªåŠ¨ç”Ÿæˆçš„å¹³å°é¡¹ç›®æ–‡ä»¶
â”œâ”€â”€ node_modules/            # Node.js ä¾èµ–åŒ…
â”œâ”€â”€ scripts/                 # (å¯é€‰) è¾…åŠ©è„šæœ¬ç›®å½•
â”‚   â””â”€â”€ ...
â”œâ”€â”€ .gitignore               # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ package.json             # Node.js é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ package-lock.json        # é”å®š Node.js ä¾èµ–ç‰ˆæœ¬
â”œâ”€â”€ README.md                # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ vite.config.js           # Vite é…ç½®æ–‡ä»¶
```

## ğŸš€ å®‰è£…ä¸ä½¿ç”¨

### å‰ææ¡ä»¶

**é€šç”¨:**
- [Node.js](https://nodejs.org/) (æ¨è LTS ç‰ˆæœ¬)
- `npm` (é€šå¸¸éš Node.js å®‰è£…)
- [Rust](https://www.rust-lang.org/tools/install)
- **Tauri ç³»ç»Ÿä¾èµ–**: æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿï¼Œéœ€è¦å®‰è£…ç‰¹å®šçš„ä¾èµ–é¡¹ (å¦‚ WebView2, Build Tools, WebKitGTK ç­‰)ã€‚è¯·åŠ¡å¿…éµå¾ª [Tauri å®˜æ–¹æ–‡æ¡£çš„ Prerequisites æŒ‡å—](https://tauri.app/v2/guides/getting-started/prerequisites)ã€‚

**Android å¼€å‘/æ„å»º:**
- [Android Studio](https://developer.android.com/studio) (åŒ…å« Android SDK å’Œ Build-Tools)
- Android NDK (è¯·ç¡®ä¿ç‰ˆæœ¬ä¸ `build-android-arm64.ps1` è„šæœ¬ä¸­ NDK è·¯å¾„å’Œ API Level é…ç½®å…¼å®¹)
- JDK 17 (æˆ–ä¸ Android Gradle Plugin å…¼å®¹çš„ç‰ˆæœ¬)
- **æ¨è**: [vcpkg](https://vcpkg.io/) ç”¨äºç®¡ç† OpenSSL ç­‰ C++ ä¾èµ–é¡¹ï¼Œä»¥ä¾¿åœ¨ Windows ä¸Šè¿›è¡Œ Android äº¤å‰ç¼–è¯‘ã€‚éœ€è¦è®¾ç½® `VCPKG_ROOT` ç¯å¢ƒå˜é‡ã€‚

### è®¾ç½®ä¸è¿è¡Œ

1.  **å…‹éš†ä»“åº“**
    ```bash
    git clone <your-repo-url>
    cd asr_android
    ```

2.  **å®‰è£…å‰ç«¯ä¾èµ–**
    ```bash
    npm install
    ```

3.  **é…ç½®é˜¿é‡Œäº‘ Gummy API å‡­è¯**
    - é¦–æ¬¡å¯åŠ¨åº”ç”¨æ—¶ï¼Œæˆ–åœ¨åº”ç”¨çš„è®¾ç½®ç•Œé¢ä¸­ï¼Œéœ€è¦æ‚¨**æ‰‹åŠ¨è¾“å…¥**æ‚¨çš„é˜¿é‡Œäº‘ `AccessKey ID`, `AccessKey Secret`, å’Œ `AppKey`ã€‚
    - è¿™äº›å‡­è¯å°†è¢«ä¿å­˜åœ¨æµè§ˆå™¨çš„ `localStorage` ä¸­ï¼Œä»¥ä¾¿åç»­è‡ªåŠ¨ä½¿ç”¨ã€‚
    - **æ³¨æ„**: å°†æ•æ„Ÿå‡­è¯å­˜å‚¨åœ¨ `localStorage` ä¸­æ–¹ä¾¿äº†æœ¬åœ°æµ‹è¯•ï¼Œä½†**å®‰å…¨æ€§è¾ƒä½**ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒæˆ–åˆ†å‘ç»™ä»–äººä½¿ç”¨æ—¶ï¼Œè¯·è€ƒè™‘æ›´å®‰å…¨çš„å‡­è¯ç®¡ç†æ–¹å¼ã€‚

4.  **æ¡Œé¢ç«¯å¼€å‘**
    - ç¡®ä¿å·²å®‰è£… Tauri æ¡Œé¢ç¯å¢ƒä¾èµ–ã€‚
    - è¿è¡Œå¼€å‘æ¨¡å¼ï¼š
      ```bash
      npm run tauri dev
      ```
    - è¿™ä¼šå¯åŠ¨ä¸€ä¸ªå¸¦çƒ­é‡è½½çš„å¼€å‘çª—å£ã€‚

5.  **æ¡Œé¢ç«¯æ„å»º**
    - è¿è¡Œæ„å»ºå‘½ä»¤ï¼š
      ```bash
      npm run tauri build
      ```
    - ç”Ÿæˆçš„å®‰è£…ç¨‹åºæˆ–å¯æ‰§è¡Œæ–‡ä»¶ä½äº `src-tauri/target/release/bundle/` ç›®å½•ä¸‹ã€‚

6.  **Android å¼€å‘ä¸è°ƒè¯•**
    - **è®¾ç½®ç¯å¢ƒå˜é‡**: ç¡®ä¿ `ANDROID_HOME`, `ANDROID_NDK_HOME`, `JAVA_HOME`, `VCPKG_ROOT` (å¦‚æœä½¿ç”¨ vcpkg) ç¯å¢ƒå˜é‡å·²æ­£ç¡®è®¾ç½®ã€‚
    - **è¿è¡Œå¼€å‘è„šæœ¬**: ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `dev-android.ps1` è„šæœ¬ (æ¨è)ã€‚æ­¤è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç† OpenSSL å’Œ NDK Linker ç­‰ç¯å¢ƒå˜é‡è®¾ç½®ï¼Œå¹¶å¯åŠ¨å¼€å‘æ¨¡å¼ã€‚
      ```powershell
      .\dev-android.ps1
      ```
    - **è°ƒè¯•**: åº”ç”¨å¯åŠ¨åï¼Œä½¿ç”¨ `chrome://inspect` è¿æ¥åˆ°åº”ç”¨çš„ WebView è¿›è¡Œè°ƒè¯• (è¯¦è§"Android å¼€å‘ä¸è°ƒè¯•"ç« èŠ‚)ã€‚

7.  **Android æ„å»º (Release AAB/APK)**
    - **è®¾ç½®ç¯å¢ƒå˜é‡**: åŒä¸Šï¼Œç¡®ä¿ç¯å¢ƒå˜é‡æ­£ç¡®ã€‚
    - **è¿è¡Œæ„å»ºè„šæœ¬**: ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `build-android-arm64.ps1` è„šæœ¬ (æ¨è)ã€‚æ­¤è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ç¯å¢ƒå˜é‡å¹¶æ„å»º Release ç‰ˆæœ¬ã€‚
      ```powershell
      .\build-android-arm64.ps1
      ```
    - æ„å»ºäº§ç‰© (é€šå¸¸æ˜¯ `.aab` æˆ– `.apk`) ä½äº `src-tauri/gen/android/app/build/outputs/` ä¸‹çš„ç›¸åº”ç›®å½•ä¸­ã€‚

## ğŸ“± Android APKæ„å»ºæŒ‡å—

è¦å°†åº”ç”¨æ„å»ºä¸ºAndroid APKï¼Œéœ€è¦å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š

### 1. ç¯å¢ƒå‡†å¤‡

æ„å»ºAndroid APKéœ€è¦ä»¥ä¸‹ç¯å¢ƒï¼š

- Android Studio (åŒ…å« Android SDK å’Œ Build-Tools)
- Android NDK (ç¡®ä¿ç‰ˆæœ¬ä¸é¡¹ç›®å…¼å®¹)
- JDK 17
- **é‡è¦**ï¼šé™¤äº†è®¾ç½® `ANDROID_HOME`, `NDK_HOME`, `JAVA_HOME` ç¯å¢ƒå˜é‡å¤–ï¼Œè¯·ç¡®ä¿ä»¥ä¸‹å‘½ä»¤è¡Œå·¥å…·ä¹Ÿä½äºç³»ç»Ÿçš„ `PATH` ç¯å¢ƒå˜é‡ä¸­ï¼Œä»¥ä¾¿äºæ„å»ºå’Œé—®é¢˜æ’æŸ¥ï¼š
  - `keytool`: é€šå¸¸ä½äº `$JAVA_HOME/bin` ç›®å½•ä¸‹ã€‚
  - `apksigner`: é€šå¸¸ä½äº `$ANDROID_HOME/build-tools/<version>` ç›®å½•ä¸‹ã€‚

### 2. è®¾ç½®ç¯å¢ƒå˜é‡

åˆ›å»º`setup-android.bat`ï¼ˆWindowsï¼‰æˆ–`setup-android.sh`ï¼ˆLinux/macOSï¼‰è„šæœ¬æ¥è®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š

```bat
@echo off
REM è®¾ç½®ç¯å¢ƒå˜é‡
set ANDROID_HOME=E:\Android\SDK
set NDK_HOME=E:\Android\SDK\ndk\29.0.13113456
set JAVA_HOME=E:\development\jdk17

REM è®¾ç½®ä»£ç†ï¼ˆå¯é€‰ï¼Œå¦‚æœéœ€è¦åŠ é€Ÿä¸‹è½½ï¼‰
set HTTP_PROXY=http://127.0.0.1:7897
set HTTPS_PROXY=http://127.0.0.1:7897
set http_proxy=http://127.0.0.1:7897
set https_proxy=http://127.0.0.1:7897
set ALL_PROXY=http://127.0.0.1:7897

echo ANDROID_HOMEè®¾ç½®ä¸º: %ANDROID_HOME%
echo NDK_HOMEè®¾ç½®ä¸º: %NDK_HOME%
echo JAVA_HOMEè®¾ç½®ä¸º: %JAVA_HOME%
echo ä»£ç†è®¾ç½®ä¸º: %HTTP_PROXY%

REM è¿è¡Œtauri android initå‘½ä»¤
call npm run tauri android init

REM å¦‚æœåˆå§‹åŒ–æˆåŠŸï¼Œç»§ç»­æ„å»º
if %ERRORLEVEL% EQU 0 (
  echo åˆå§‹åŒ–æˆåŠŸï¼Œå¼€å§‹æ„å»ºAndroid APK...
  cd src-tauri
  call npm run tauri android build
)
```

### 3. åˆå§‹åŒ–Androidæ”¯æŒ

è¿è¡Œä¸Šé¢åˆ›å»ºçš„è„šæœ¬ï¼Œæˆ–æ‰‹åŠ¨æ‰§è¡Œ `npm run tauri android init`ã€‚æ­¤æ­¥éª¤ä¼šåœ¨ `src-tauri/gen/android/` ç›®å½•ä¸‹ç”Ÿæˆ Gradle é¡¹ç›®ç»“æ„ã€‚

**æ³¨æ„**ï¼šæ­¤æ­¥éª¤åï¼Œç­¾åé…ç½®çš„æ ¸å¿ƒæ–‡ä»¶ä¹‹ä¸€ `src-tauri/gen/android/app/build.gradle.kts` ä¼šè¢«åˆ›å»ºæˆ–ä¿®æ”¹ã€‚

### 4. é…ç½®ç­¾åå¯†é’¥åº“

ä¸ºäº†ç”Ÿæˆå·²ç­¾åçš„ Release APKï¼Œä½ éœ€è¦ï¼š

1.  **ç”Ÿæˆå¯†é’¥åº“æ–‡ä»¶**ï¼šå¦‚æœè¿˜æ²¡æœ‰ï¼Œè¯·ä½¿ç”¨ `keytool` ç”Ÿæˆä¸€ä¸ª `.keystore` æ–‡ä»¶ï¼ˆä¾‹å¦‚ `hanzi-writer.keystore`ï¼‰å¹¶å°†å…¶æ”¾ç½®åœ¨ `src-tauri/` ç›®å½•ä¸‹ã€‚è®°ä½ä½ è®¾ç½®çš„**å¯†é’¥åº“å¯†ç  (store password)** å’Œ**å¯†é’¥åˆ«å (key alias)** ä»¥åŠå¯¹åº”çš„**å¯†é’¥å¯†ç  (key password)**ã€‚
    ```bash
    # ç¤ºä¾‹å‘½ä»¤ (åœ¨ src-tauri ç›®å½•è¿è¡Œ)
    keytool -genkey -v -keystore hanzi-writer.keystore -keyalg RSA -keysize 2048 -validity 10000 -alias hanziwriter
    ```
2.  **åˆ›å»º `keystore.properties` æ–‡ä»¶**ï¼šåœ¨ `src-tauri/gen/android/` ç›®å½•ä¸‹ï¼ˆ**æ³¨æ„**ï¼šä¸æ˜¯ `app` å­ç›®å½•ï¼‰åˆ›å»ºä¸€ä¸ªåä¸º `keystore.properties` çš„æ–‡æœ¬æ–‡ä»¶ã€‚
3.  **ç¼–è¾‘ `keystore.properties`**ï¼šå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼Œå¹¶æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ä¿¡æ¯ï¼š
    ```properties
    keyAlias=ä½ çš„å¯†é’¥åˆ«å # ä¾‹å¦‚ hanziwriter
    keyPassword=ä½ çš„å¯†é’¥å¯†ç  # å¯¹åº”åˆ«åçš„å¯†ç 
    # !!! å…³é”®ï¼šç›¸å¯¹äº src-tauri/gen/android/ ç›®å½•ï¼ŒæŒ‡å‘ src-tauri/ ç›®å½•ä¸‹çš„å¯†é’¥åº“æ–‡ä»¶
    storeFile=../../../hanzi-writer.keystore
    storePassword=ä½ çš„å¯†é’¥åº“å¯†ç  # æ•´ä¸ª keystore æ–‡ä»¶çš„å¯†ç 
    ```
    **åŠ¡å¿…ç¡®ä¿**ï¼š
    - å¯†ç æ­£ç¡®æ— è¯¯ï¼Œä¸”æœ«å°¾æ²¡æœ‰å¤šä½™ç©ºæ ¼ã€‚
    - `storeFile` çš„ç›¸å¯¹è·¯å¾„æ­£ç¡®æŒ‡å‘ä½ çš„ `.keystore` æ–‡ä»¶ã€‚

### 5. æ„å»ºAPK (æ£€æŸ¥ Gradle é…ç½®)

ç°åœ¨å¯ä»¥è¿è¡Œæ„å»ºå‘½ä»¤ï¼š

```bash
# Windows
.\setup-android.bat
```
æˆ–è€…ï¼Œå¦‚æœæ‚¨é…ç½®å¥½äº†ç­¾åï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼š
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
npm run tauri android build
```

**é¦–æ¬¡æ„å»ºåæ£€æŸ¥**ï¼šTauri åº•å±‚ä½¿ç”¨ Gradle æ„å»ºã€‚æ„å»ºè¿‡ç¨‹ä¾èµ– `src-tauri/gen/android/app/build.gradle.kts` æ–‡ä»¶ã€‚è¯·æ‰“å¼€æ­¤æ–‡ä»¶ï¼Œæ£€æŸ¥ä»¥ä¸‹å…³é”®é…ç½®æ˜¯å¦å­˜åœ¨ä¸”æ­£ç¡®ï¼š

```kotlin
// src-tauri/gen/android/app/build.gradle.kts

import java.io.FileInputStream // ç¡®ä¿è¿™ä¸ª import å­˜åœ¨
// ... å…¶ä»– imports ...

android {
    // ...
    signingConfigs {
        create("release") {
            // æ£€æŸ¥è¿™é‡Œçš„è·¯å¾„æ˜¯å¦æ­£ç¡®æŒ‡å‘ src-tauri/gen/android/keystore.properties
            val keystorePropertiesFile = rootProject.file("keystore.properties")
            // ... ç¡®ä¿åŠ è½½ keystore.properties çš„é€»è¾‘å­˜åœ¨ ...
        }
    }

    buildTypes {
        getByName("release") {
            // !!! å…³é”®ï¼šç¡®ä¿è¿™ä¸€è¡Œå­˜åœ¨ä¸”æ²¡æœ‰è¢«æ³¨é‡Š !!!
            signingConfig = signingConfigs.getByName("release")
            // ... å…¶ä»– release é…ç½® ...
        }
        // ... debug é…ç½® ...
    }
    // ...
}
```
å¦‚æœç¼ºå°‘ `signingConfigs` å—æˆ– `release` ä¸­çš„ `signingConfig = ...` è¡Œï¼Œè¯·å‚è€ƒä¸Šé¢ç¤ºä¾‹æ‰‹åŠ¨æ·»åŠ æˆ–å–æ¶ˆæ³¨é‡Šã€‚

### 6. å¸¸è§é—®é¢˜ä¸æ’æŸ¥

#### ç¯å¢ƒå˜é‡é—®é¢˜

*   **`keytool`/`apksigner` æ‰¾ä¸åˆ°**ï¼šç¡®è®¤ JDK `bin` ç›®å½•å’Œ Android SDK `build-tools` ç›®å½•å·²æ·»åŠ åˆ°ç³»ç»Ÿ `PATH`ã€‚
*   **SDK/NDK/JDK è·¯å¾„é”™è¯¯**ï¼šæ£€æŸ¥ `ANDROID_HOME`, `NDK_HOME`, `JAVA_HOME` ç¯å¢ƒå˜é‡æ˜¯å¦æŒ‡å‘æ­£ç¡®çš„å®‰è£…ä½ç½®ã€‚

#### ä¸‹è½½é€Ÿåº¦æ…¢

*   **ä¸‹è½½ Gradle ä¾èµ–æˆ– Rust å·¥å…·é“¾æ…¢**ï¼š
    *   å°è¯•è®¾ç½® `HTTP_PROXY` å’Œ `HTTPS_PROXY` ç¯å¢ƒå˜é‡ã€‚
    *   é…ç½® Cargo ä½¿ç”¨å›½å†…é•œåƒæº (ç¼–è¾‘ `~/.cargo/config` æˆ– `%USERPROFILE%\.cargo\config`)ã€‚

#### æ„å»ºå¤±è´¥

*   **ç”Ÿæˆ unsigned APK**ï¼š
    *   æ£€æŸ¥ `src-tauri/gen/android/app/build.gradle.kts` æ–‡ä»¶ï¼Œç¡®è®¤ `signingConfigs` å—å­˜åœ¨ï¼Œå¹¶ä¸” `buildTypes.release` ä¸­æœ‰ `signingConfig = signingConfigs.getByName("release")`ã€‚
    *   ç¡®è®¤ `src-tauri/gen/android/keystore.properties` æ–‡ä»¶å­˜åœ¨ä¸”å†…å®¹æ­£ç¡®ã€‚
*   **`keystore.properties not found` é”™è¯¯**ï¼š
    *   ç¡®è®¤æ–‡ä»¶ç¡®å®åœ¨ `src-tauri/gen/android/` ç›®å½•ä¸‹ã€‚
    *   æ£€æŸ¥ `build.gradle.kts` ä¸­ `rootProject.file(...)` çš„è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆåº”ä¸º `"keystore.properties"`ï¼‰ã€‚
*   **`Keystore file '...' not found` é”™è¯¯**ï¼š
    *   æ£€æŸ¥ `keystore.properties` æ–‡ä»¶ä¸­çš„ `storeFile` ç›¸å¯¹è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆé€šå¸¸æ˜¯ `../../../hanzi-writer.keystore`ï¼‰ã€‚
    *   ç¡®è®¤ `.keystore` æ–‡ä»¶æœ¬èº«å­˜åœ¨äº `src-tauri/` ç›®å½•ã€‚
*   **`keystore password was incorrect` æˆ– `Failed to read key ...` é”™è¯¯**ï¼š
    *   ä»”ç»†æ£€æŸ¥ `keystore.properties` æ–‡ä»¶ä¸­çš„ `storePassword` å’Œ `keyPassword` æ˜¯å¦ä¸ç”Ÿæˆå¯†é’¥åº“æ—¶è®¾ç½®çš„å®Œå…¨ä¸€è‡´ã€‚
    *   ç¡®ä¿å¯†ç æœ«å°¾æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼ã€‚
*   **å…¶ä»– Gradle é”™è¯¯**ï¼šè¿è¡Œ `npm run tauri android build -- --verbose` æŸ¥çœ‹è¯¦ç»†æ—¥å¿—è¿›è¡Œåˆ†æã€‚

### 7. å®‰è£…å’Œæµ‹è¯•

æ„å»ºæˆåŠŸåï¼Œ**å·²ç­¾å**çš„APKæ–‡ä»¶å°†ä½äºï¼š`src-tauri/gen/android/app/build/outputs/apk/universal/release/app-universal-release.apk`ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ `adb` å‘½ä»¤å®‰è£…ï¼š
```powershell
# ç¡®ä¿ adb åœ¨ PATH ä¸­ï¼Œä¸”è®¾å¤‡å·²è¿æ¥å¹¶æˆæƒ
adb install .\src-tauri\gen\android\app\build\outputs\apk\universal\release\app-universal-release.apk
```

æ‚¨å¯ä»¥ï¼š
- ä½¿ç”¨USBè¿æ¥Androidè®¾å¤‡å¹¶ç›´æ¥å®‰è£…APK

## ğŸ“± Android å¼€å‘ä¸è°ƒè¯• (Development & Debugging)

è¦åœ¨è¿æ¥çš„ Android è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œåº”ç”¨çš„**å¼€å‘ç‰ˆæœ¬**å¹¶å¯ç”¨ WebView è°ƒè¯•ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### 1. ç¯å¢ƒå‡†å¤‡

- **ç¡®ä¿è®¾å¤‡/æ¨¡æ‹Ÿå™¨å·²è¿æ¥**: ä½¿ç”¨ `adb devices` å‘½ä»¤ç¡®è®¤è®¾å¤‡å·²è¿æ¥å¹¶æˆæƒã€‚
- **å¼€å¯ USB è°ƒè¯•**: åœ¨æ‚¨çš„ Android è®¾å¤‡ä¸Šå¯ç”¨å¼€å‘è€…é€‰é¡¹å’Œ USB è°ƒè¯•ã€‚
- **è®¾ç½®ç¯å¢ƒå˜é‡**: è¿è¡Œå¼€å‘å’Œæ„å»ºæ¨¡å¼**åŒæ ·éœ€è¦**æ­£ç¡®çš„ç¯å¢ƒå˜é‡é…ç½®ï¼Œç‰¹åˆ«æ˜¯ NDK é“¾æ¥å™¨å’Œ vcpkg æä¾›çš„ OpenSSL è·¯å¾„ã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨ç±»ä¼¼ `build-android-arm64.ps1` æˆ– `dev-android.ps1` çš„è„šæœ¬æ¥è®¾ç½®è¿™äº›å˜é‡ã€‚
- **å‰ç«¯èµ„æºåŠ è½½ä¸å®‰å…¨ä¸Šä¸‹æ–‡**: 
    - **é—®é¢˜**: `navigator.mediaDevices.getUserMedia` (ç”¨äºéº¦å…‹é£ã€æ‘„åƒå¤´ç­‰) ç­‰ Web API éœ€è¦åœ¨**å®‰å…¨ä¸Šä¸‹æ–‡ (Secure Context)** ä¸­è¿è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`https://` æˆ– `http://localhost` è¢«è§†ä¸ºå®‰å…¨ä¸Šä¸‹æ–‡ï¼Œä½†**é€šè¿‡ IP åœ°å€è®¿é—®çš„ `http://` (ä¾‹å¦‚ `http://192.168.x.x:port`) åˆ™ä¸è¢«è§†ä¸ºå®‰å…¨ä¸Šä¸‹æ–‡**ã€‚
    - **é”™è¯¯**: å¦‚æœä½¿ç”¨ `devUrl` æŒ‡å‘ä¸€ä¸ª HTTP IP åœ°å€ï¼ŒWebView åŠ è½½åè°ƒç”¨ `getUserMedia` ä¼šå› éå®‰å…¨ä¸Šä¸‹æ–‡è€Œå¤±è´¥ï¼Œå³ä½¿ç³»ç»Ÿæƒé™å·²æˆäºˆï¼Œä¹Ÿå¯èƒ½æŠ¥ `Permission denied` æˆ–ç±»ä¼¼é”™è¯¯ã€‚
    - **æ¨èè§£å†³æ–¹æ¡ˆ (ä½¿ç”¨ Tauri å†…å»ºæœåŠ¡å™¨)**: 
        1.  **ä¿®æ”¹ `src-tauri/tauri.conf.json`**: 
            *   **ç§»é™¤** `build.devUrl` é…ç½®é¡¹ã€‚
            *   å°† `build.frontendDist` æŒ‡å‘ Vite (æˆ–ä½ çš„å‰ç«¯æ¡†æ¶) **æ„å»ºåçš„è¾“å‡ºç›®å½•** (ä¾‹å¦‚ï¼Œæ ¹æ® `vite.config.js` çš„ `build.outDir`ï¼Œå¯èƒ½æ˜¯ `../dist_vite_build`)ã€‚
            *   å°† `build.beforeDevCommand` çš„å€¼è®¾ä¸ºå‰ç«¯**æ„å»ºå‘½ä»¤** (ä¾‹å¦‚ `"npm run build"`)ã€‚
            ```jsonc
            // tauri.conf.json (ç¤ºä¾‹)
            {
              "build": {
                "frontendDist": "../dist_vite_build", // æŒ‡å‘æ„å»ºäº§ç‰©
                // "devUrl" å·²ç§»é™¤
                "beforeDevCommand": "npm run build", // å¯åŠ¨å‰å…ˆæ„å»º
                "beforeBuildCommand": "npm run build"
              },
              // ... å…¶ä»–é…ç½®
            }
            ```
        2.  **å·¥ä½œåŸç†**: è¿™æ ·é…ç½®åï¼Œè¿è¡Œ `tauri android dev` (æˆ–ç›¸åº”çš„è„šæœ¬) æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œ `npm run build` å°†å‰ç«¯æ„å»ºåˆ° `dist_vite_build` ç›®å½•ã€‚ç„¶å Tauri ä¼šå¯åŠ¨**å†…å»ºçš„æœåŠ¡å™¨**æ¥åŠ è½½è¿™ä¸ªç›®å½•ä¸‹çš„é™æ€èµ„æºï¼Œå¹¶é€šè¿‡å…¶**è‡ªå®šä¹‰åè®®** (å¦‚ `tauri://localhost`) æä¾›æœåŠ¡ã€‚è¿™ä¸ªè‡ªå®šä¹‰åè®®è¢«è§†ä¸º**å®‰å…¨ä¸Šä¸‹æ–‡**ï¼Œä»è€Œè§£å†³äº† `getUserMedia` çš„æƒé™é—®é¢˜ã€‚
        3.  **ç¼ºç‚¹**: æ¯æ¬¡å¯åŠ¨å¼€å‘éƒ½éœ€è¦å®Œæ•´æ„å»ºå‰ç«¯ï¼Œå¯åŠ¨é€Ÿåº¦å˜æ…¢ï¼Œä¸”å¤±å»äº† Vite Dev Server æä¾›çš„ HMR (çƒ­æ¨¡å—æ›¿æ¢) åŠŸèƒ½ï¼ˆTauri åªæä¾›åŸºæœ¬çš„èµ„æºå˜æ›´è‡ªåŠ¨é‡è½½ï¼‰ã€‚
    - **æ›¿ä»£æ–¹æ¡ˆ (ä½¿ç”¨ HTTPS `devUrl`ï¼Œä¸æ¨è)**: ç†è®ºä¸Šå¯ä»¥é€šè¿‡ä¸º Vite Dev Server é…ç½® HTTPS å¹¶ä½¿ç”¨ `https://` çš„ `devUrl` æ¥åˆ›å»ºå®‰å…¨ä¸Šä¸‹æ–‡ã€‚ä½†è¿™é€šå¸¸æ¶‰åŠå¤æ‚çš„æœ¬åœ°è¯ä¹¦é…ç½® (å¦‚ä½¿ç”¨ `mkcert`)ï¼Œå¹¶ä¸”å®¹æ˜“é‡åˆ°è¯ä¹¦ä¿¡ä»»ã€SSL æ¡æ‰‹é”™è¯¯ (`ERR_SSL_VERSION_OR_CIPHER_MISMATCH`) ç­‰é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šè°ƒè¯•æ—¶ã€‚å› æ­¤ï¼Œå¯¹äºéœ€è¦è®¿é—®æ•æ„Ÿ Web API çš„ç§»åŠ¨ç«¯å¼€å‘ï¼Œ**ä¼˜å…ˆæ¨èä½¿ç”¨ Tauri å†…å»ºæœåŠ¡å™¨æ–¹æ¡ˆ**ã€‚
    - ~~WebSocket HMR é—®é¢˜~~: (å¦‚æœä½¿ç”¨ Tauri å†…å»ºæœåŠ¡å™¨æ–¹æ¡ˆï¼Œåˆ™ä¹‹å‰å…³äº Vite HMR host çš„é—®é¢˜é€šå¸¸ä¸å†ç›¸å…³ï¼Œå¯ä»¥å¿½ç•¥æˆ–åˆ é™¤æ­¤æ¡)

### 2. å¯åŠ¨å¼€å‘æ¨¡å¼

åœ¨è®¾ç½®å¥½ç¯å¢ƒå˜é‡çš„ç»ˆç«¯ä¸­ï¼Œè¿è¡Œï¼š
```powershell
# å¦‚æœä½¿ç”¨äº†è„šæœ¬
.\dev-android.ps1

# æˆ–è€…ï¼Œå¦‚æœæ‰‹åŠ¨è®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼Œç›´æ¥è¿è¡Œï¼š
npx tauri android dev
```
æ­¤å‘½ä»¤ä¼šç¼–è¯‘ Debug ç‰ˆæœ¬çš„åº”ç”¨ï¼Œå°†å…¶å®‰è£…åˆ°è®¾å¤‡/æ¨¡æ‹Ÿå™¨å¹¶å¯åŠ¨å®ƒã€‚

### 3. ä½¿ç”¨ Chrome DevTools è°ƒè¯•

1. åº”ç”¨åœ¨è®¾å¤‡/æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œåï¼Œåœ¨ PC çš„ Chrome æµè§ˆå™¨ä¸­æ‰“å¼€æ–°æ ‡ç­¾é¡µã€‚
2. åœ°å€æ è¾“å…¥ `chrome://inspect` å¹¶å›è½¦ã€‚
3. åœ¨ "Remote Target" éƒ¨åˆ†æ‰¾åˆ°æ‚¨çš„è®¾å¤‡å’Œåº”ç”¨å¯¹åº”çš„ WebView (ä¾‹å¦‚ `com.hanzi.writer`)ã€‚
4. ç‚¹å‡» WebView ä¸‹æ–¹çš„ "inspect" é“¾æ¥ã€‚
5. Chrome DevTools çª—å£å°†æ‰“å¼€ï¼Œè¿æ¥åˆ°åº”ç”¨çš„ WebViewï¼Œæ‚¨å¯ä»¥å¼€å§‹è°ƒè¯•ã€‚

## æŒ‡å®šæ¶æ„build

æ ¹æ®Tauriå®˜æ–¹æ–‡æ¡£ï¼Œå¯ä»¥é€šè¿‡ `--target` å‚æ•°åœ¨æ„å»ºæ—¶æŒ‡å®šç›®æ ‡æ¶æ„ã€‚è¿™æ¯”ç›´æ¥ä¿®æ”¹ Gradle æ–‡ä»¶æ›´æ¨èã€‚

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- ç”µå­é‚®ä»¶ï¼š[your-email@example.com]
- GitHub Issuesï¼š[é¡¹ç›®Issuesé¡µé¢]

## âš™ï¸ å¼€å‘ç»éªŒä¸æ³¨æ„äº‹é¡¹

åœ¨æœ¬æ¬¡å¼€å‘å’Œè°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€äº›å…³äº Rust é¡¹ç›®ç»“æ„ã€æ¨¡å—ç³»ç»Ÿä»¥åŠ Tauri é…ç½®çš„é—®é¢˜ï¼Œæ€»ç»“å¦‚ä¸‹ç»éªŒä¾›å‚è€ƒï¼š

1.  **é¡¹ç›®ç»“æ„ (lib.rs vs main.rs)**:
    *   **æ ‡å‡†å®è·µ**: å¯¹äºåŒæ—¶åŒ…å«åº“å’ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„ Rust åŒ… (ç”±åŒä¸€ä¸ª `Cargo.toml` å®šä¹‰)ï¼Œæ¨èå°†æ ¸å¿ƒé€»è¾‘ã€æ•°æ®ç»“æ„ã€Tauri å‘½ä»¤å’Œ Builder é…ç½®ç­‰æ”¾åœ¨åº“æ–‡ä»¶ (`src/lib.rs`) æˆ–å…¶å­æ¨¡å—ä¸­ã€‚
    *   äºŒè¿›åˆ¶å…¥å£ (`src/main.rs`) åº”ä¿æŒç®€æ´ï¼Œå…¶ä¸»è¦èŒè´£æ˜¯è°ƒç”¨åº“ä¸­å®šä¹‰çš„å…¬å…±å¯åŠ¨å‡½æ•° (ä¾‹å¦‚ `my_crate_name::run()` æˆ– `my_lib_name::run()`)ã€‚
    *   **é¿å…åå‘ä¾èµ–**: **åˆ‡å‹¿**åœ¨ `src/lib.rs` ä¸­ä½¿ç”¨ `mod main;` å°†äºŒè¿›åˆ¶å…¥å£ä½œä¸ºæ¨¡å—å¯¼å…¥ï¼Œè¿™ä¼šç ´åæ ‡å‡†çš„ä¾èµ–å…³ç³»å¹¶å¯¼è‡´ç¼–è¯‘/é“¾æ¥é”™è¯¯ã€‚

2.  **åŒ…å†… Crate å¼•ç”¨ (`main.rs` è°ƒç”¨ `lib.rs`)**: å½“ `src/main.rs` éœ€è¦è°ƒç”¨ `src/lib.rs` ä¸­çš„å…¬å…±å‡½æ•°ï¼ˆå¦‚ `run`ï¼‰æ—¶ï¼Œå¼•ç”¨æ–¹å¼å–å†³äº `Cargo.toml` æ˜¯å¦æ˜¾å¼å®šä¹‰äº†åº“å:
    *   **å¦‚æœ `Cargo.toml` æœªæ˜¾å¼æŒ‡å®š `[lib] name`**: ä½¿ç”¨**åŒ…å** (package nameï¼Œ`[package]` ä¸‹çš„ `name`ï¼Œ`-` æ›¿æ¢ä¸º `_`) è¿›è¡Œå¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåŒ…åæ˜¯ `my-app`ï¼Œåˆ™ä½¿ç”¨ `my_app::run()`ã€‚
    *   **å¦‚æœ `Cargo.toml` æ˜¾å¼æŒ‡å®šäº† `[lib] name = "my_lib_name"`**: åˆ™**å¿…é¡»**ä½¿ç”¨è¿™ä¸ªæŒ‡å®šçš„**åº“å**è¿›è¡Œå¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ `my_lib_name::run()`ã€‚ (è¿™æ˜¯æœ¬é¡¹ç›®é‡åˆ°çš„æƒ…å†µï¼ŒåŒ…å `write-zh-char`ï¼Œåº“å `app_lib`ï¼Œæœ€ç»ˆéœ€ä½¿ç”¨ `app_lib::run()` æ‰æˆåŠŸ)ã€‚

3.  **Tauri å‘½ä»¤æ³¨å†Œ**: åº”å°† `tauri::Builder::default()...invoke_handler(tauri::generate_handler![...])` çš„é…ç½®é›†ä¸­åœ¨ä¸€å¤„ï¼ˆæ¨èæ”¾åœ¨ `lib.rs` çš„ `run` å‡½æ•°ä¸­ï¼‰ï¼Œå¹¶åœ¨ `generate_handler!` å®ä¸­å¼•ç”¨å®šä¹‰åœ¨å„æ¨¡å—ï¼ˆå¦‚ `asr::`ã€`llm_processor::`ï¼‰ä¸­çš„å‘½ä»¤å‡½æ•°ã€‚è¿™é¿å…äº†é‡å¤æ³¨å†Œ (E0255 é”™è¯¯)ã€‚

4.  **Tauri çŠ¶æ€ç®¡ç†**: ä½¿ç”¨ `builder.manage(MyState(...))` æ³¨å…¥çŠ¶æ€ï¼Œå¹¶åœ¨å‘½ä»¤å‡½æ•°ç­¾åä¸­ä½¿ç”¨ `state: State<'_, MyState>` æ¥è®¿é—®ã€‚è¿™æ˜¯åœ¨ä¸åŒå‘½ä»¤æˆ–ä»»åŠ¡é—´å®‰å…¨å…±äº«æ•°æ®ï¼ˆå¦‚é…ç½®ã€API Keyã€ä»»åŠ¡å¥æŸ„ç­‰ï¼‰çš„æ ‡å‡†æ–¹å¼ã€‚æ³¨æ„çŠ¶æ€ç»“æ„ä½“éœ€è¦ `Sync + Send`ï¼Œé€šå¸¸éœ€è¦ `Arc<Mutex<...>>` æˆ– `Arc<RwLock<...>>` æ¥åŒ…è£¹å¯å˜æ•°æ®ã€‚çŠ¶æ€çš„ç±»å‹å®šä¹‰ä¹Ÿåº”æ”¾åœ¨åˆé€‚çš„æ¨¡å—ä¸­ï¼ˆå¦‚ `asr::ApiKeyState`ï¼‰ã€‚

5.  **æ¨¡å—è·¯å¾„ (`mod`, `use`)**: 
    *   åœ¨ Crate æ ¹ (`lib.rs`) ä¸­ä½¿ç”¨ `mod module_name;` æ¥å£°æ˜å­æ¨¡å—ã€‚
    *   åœ¨ä¸åŒæ¨¡å—é—´å¼•ç”¨ç±»å‹æˆ–å‡½æ•°æ—¶ï¼Œä½¿ç”¨ `use crate::module_name::Item;` æ¥å¯¼å…¥ï¼Œç„¶ååœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ `Item`ã€‚æˆ–è€…ï¼Œç›´æ¥ä½¿ç”¨å®Œæ•´è·¯å¾„ `crate::module_name::Item`ã€‚

å¸Œæœ›è¿™äº›è®°å½•èƒ½å¸®åŠ©åç»­å¼€å‘é¿å…ç±»ä¼¼çš„"å‘"ã€‚
